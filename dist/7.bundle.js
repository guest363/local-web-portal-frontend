(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{107:function(e,t){e.exports="data:image/jpeg;base64,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"},108:function(e,t,a){"use strict";var r=a(97);a.n(r).a},121:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"user-panel"},[t("div",{staticClass:"user-panel--grid"},[t("persons")],1),this._v(" "),t("login")],1)};r._withStripped=!0;var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-panel--login__wrapper"},[a("div",{staticClass:"user-panel--login"},[a("div",{staticClass:"user-panel--login--input-wrap"},[a("label",{attrs:{for:"login"}},[e._v("Логи")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.login,expression:"user.login"}],attrs:{type:"text",id:"login"},domProps:{value:e.user.login},on:{input:function(t){t.target.composing||e.$set(e.user,"login",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"user-panel--login--input-wrap"},[a("label",{attrs:{for:"password"}},[e._v("Пароль")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),e._v(" "),a("button",{on:{click:e.logAction}},[e._v(e._s(""===e.displayName?"Войти":"Выйти"))]),e._v(" "),a("button",{on:{click:e.showModal}},[e._v("Дабавить пользователя")])]),e._v(" "),a("modal",{directives:[{name:"show",rawName:"v-show",value:e.isShowModal,expression:"isShowModal"}],attrs:{prop:e.user},on:{close:e.closeModal,createUser:e.createUser},scopedSlots:e._u([{key:"header",fn:function(){return[a("h2",[e._v("Создание нового пользовател")])]},proxy:!0},{key:"footer",fn:function(){return[a("button",{on:{click:e.createUser}},[e._v("Создать пользователя")])]},proxy:!0}])},[e._v(" "),a("div",{staticClass:"user-panel--login--input-wrap"},[a("label",{attrs:{for:"displayName"}},[e._v("Имя")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.displayName,expression:"user.displayName"}],attrs:{type:"text",id:"displayName"},domProps:{value:e.user.displayName},on:{input:function(t){t.target.composing||e.$set(e.user,"displayName",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"user-panel--login--input-wrap"},[a("label",{attrs:{for:"new--login"}},[e._v("Логи")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.login,expression:"user.login"}],attrs:{type:"text",id:"new--login"},domProps:{value:e.user.login},on:{input:function(t){t.target.composing||e.$set(e.user,"login",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"user-panel--login--input-wrap"},[a("label",{attrs:{for:"new--password"}},[e._v("Пароль")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"new--password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})])])],1)};s._withStripped=!0;var o={data:()=>({user:{displayName:"",login:"",password:""}}),computed:{authResult(){return this.$store.getters.GET_AUTH_RESULT},displayName(){return this.$store.getters.GET_DISPLAY_NAME}},methods:{logAction(){""===this.displayName?this.makeLogin():this.makeLogout()},makeLogin(){this.$store.dispatch("LOGIN",this.user)},createUser(){if(""===this.user.login||""===this.user.password)return this.showAlert("Внимание","Имя и пароль не могут быть пустыми");this.$store.commit("CREATE_USER",this.user);this.showAlert("Результат",this.authResult)},makeLogout(){this.$store.dispatch("LOGOUT")}}},n=a(2),i=Object(n.a)(o,s,[],!1,null,null,null);i.options.__file="src/moduleUserPanel/views/login.vue";var l=i.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-panel--persons"},[a("h1",{staticClass:"user-panel--persons--header h3"},[e._v("Кадровый состав:")]),e._v(" "),a("table",{staticClass:"user-panel--persons--table"},[a("tbody",[e._m(0),e._v(" "),e._l(e.persons,(function(t){return a("tr",{key:t._id,staticClass:"big-bro--list",on:{click:function(a){return e.showModal(t)}}},[a("td",[a("img",{staticClass:"user-panel--persons--table--avatar",attrs:{src:e.getPhoto(t.photo)}})]),e._v(" "),a("td",[e._v(e._s(t.fio))]),e._v(" "),a("td",[e._v(e._s(t.squad))]),e._v(" "),a("td",[e._v(e._s(new Date(t.date).toLocaleString("ru")))])])}))],2)]),e._v(" "),a("button",{on:{click:function(t){return e.showModal(e.person)}}},[e._v("Дабавить пользователя")]),e._v(" "),a("modal",{directives:[{name:"show",rawName:"v-show",value:e.isShowModal,expression:"isShowModal"}],attrs:{prop:e.person},on:{close:e.closeModal},scopedSlots:e._u([{key:"header",fn:function(){return[a("h2",[a("img",{staticClass:"user-panel--persons--table--avatar",attrs:{src:e.getPhoto(e.person.photo)}}),e._v("   Изменение данных человека:")])]},proxy:!0},{key:"footer",fn:function(){return[a("button",{staticClass:"button--del",on:{click:function(t){return e.delPost()}}},[e._v("Удалить запись")]),e._v(" "),a("button",{staticClass:"button--add",on:{click:function(t){return e.editPost()}}},[e._v("Занести новые данные")])]},proxy:!0}])},[e._v(" "),a("p",[e._v("Фотография")]),e._v(" "),a("dnd",{on:{dropThumbnail:e.setPhoto}}),e._v(" "),a("p",[e._v("ФИО")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.fio,expression:"person.fio"}],attrs:{type:"text"},domProps:{value:e.person.fio},on:{input:function(t){t.target.composing||e.$set(e.person,"fio",t.target.value)}}}),e._v(" "),a("p",[e._v("Подразделение")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.squad,expression:"person.squad"}],attrs:{type:"text"},domProps:{value:e.person.squad},on:{input:function(t){t.target.composing||e.$set(e.person,"squad",t.target.value)}}}),e._v(" "),a("p",[e._v("Дата рождения")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.person.date,expression:"person.date"}],attrs:{type:"date"},domProps:{value:e.person.date},on:{input:function(t){t.target.composing||e.$set(e.person,"date",t.target.value)}}})],1)],1)};A._withStripped=!0;var u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dropZone",on:{dragenter:function(t){return e.enter(t)},dragleave:function(t){return e.leave(t)},dragover:function(t){return e.over(t)},drop:function(t){return e.drop(t)}}},[a("form",{staticClass:"flex-center dropZone--form"},[a("p",{staticClass:"dropZone--form--text"},[e._v(e._s(e.data.text.main.default))]),e._v(" "),a("label",{directives:[{name:"show",rawName:"v-show",value:e.data.show.button,expression:"data.show.button"}],staticClass:"common--button dropZone--form--button flex-center"},[e._v("\n      "+e._s(e.data.text.button.default)+"\n      "),a("input",{staticClass:"dropZone--hide",attrs:{type:"file",title:"Загрузите одну или несколько фотографий",required:"",multiple:"",accept:"image/*"},on:{change:function(t){return e.selectInput(t)}}})]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.data.show.limits,expression:"data.show.limits"}],staticClass:"dropZone--form--text--limits"},[e._v(e._s(e.data.text.limits.default))])]),e._v(" "),e._m(0)])};function p(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){d(e,t,a[t])}))}return e}u._withStripped=!0;
/*!
 * Compressor.js v1.0.5
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-01-23T10:53:08.724Z
 */var v=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){"undefined"!=typeof window&&function(t){var a=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,r=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),s=r&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,n=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,i=(r||o)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,a,i,l,A,u,p,d,c;if(!(t=e.match(n)))throw new Error("invalid data URI");for(a=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),i=!!t[4],l=e.slice(t[0].length),A=i?atob(l):decodeURIComponent(l),u=new ArrayBuffer(A.length),p=new Uint8Array(u),d=0;d<A.length;d+=1)p[d]=A.charCodeAt(d);return r?new Blob([s?p:u],{type:a}):((c=new o).append(u),c.getBlob(a))};t.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(e,t,r){var s=this;setTimeout((function(){r&&a.toDataURL&&i?e(i(s.toDataURL(t,r))):e(s.mozGetAsFile("blob",t))}))}:a.toDataURL&&i&&(a.toBlob=function(e,t,a){var r=this;setTimeout((function(){e(i(r.toDataURL(t,a)))}))})),e.exports?e.exports=i:t.dataURLtoBlob=i}(window)})),m={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},f="undefined"!=typeof window?window:{},g=Array.prototype.slice;var b=/^image\/.+$/;function w(e){return b.test(e)}var y=String.fromCharCode;var x=f.btoa;function k(e){var t,a=new DataView(e);try{var r,s,o;if(255===a.getUint8(0)&&216===a.getUint8(1))for(var n=a.byteLength,i=2;i+1<n;){if(255===a.getUint8(i)&&225===a.getUint8(i+1)){s=i;break}i+=1}if(s){var l=s+10;if("Exif"===function(e,t,a){var r,s="";for(a+=t,r=t;r<a;r+=1)s+=y(e.getUint8(r));return s}(a,s+4,4)){var A=a.getUint16(l);if(((r=18761===A)||19789===A)&&42===a.getUint16(l+2,r)){var u=a.getUint32(l+4,r);u>=8&&(o=l+u)}}}if(o){var p,d,c=a.getUint16(o,r);for(d=0;d<c;d+=1)if(p=o+12*d+2,274===a.getUint16(p,r)){p+=8,t=a.getUint16(p,r),a.setUint16(p,1,r);break}}}catch(e){t=1}return t}var _=/\.\d*(?:0|9){12}\d*$/;function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return _.test(e)?Math.round(e*t)/t:e}var O=f.ArrayBuffer,S=f.FileReader,E=f.URL||f.webkitURL,L=/\.\w+$/,T=f.Compressor,P=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.file=t,this.image=new Image,this.options=h({},m,a),this.aborted=!1,this.result=null,this.init()}var t,a,r;return t=e,r=[{key:"noConflict",value:function(){return window.Compressor=T,e}},{key:"setDefaults",value:function(e){c(m,e)}}],(a=[{key:"init",value:function(){var e=this,t=this.file,a=this.options;if(r=t,"undefined"!=typeof Blob&&(r instanceof Blob||"[object Blob]"===Object.prototype.toString.call(r))){var r,s=t.type;if(w(s))if(E&&S)if(O||(a.checkOrientation=!1),E&&!a.checkOrientation)this.load({url:E.createObjectURL(t)});else{var o=new S,n=a.checkOrientation&&"image/jpeg"===s;this.reader=o,o.onload=function(a){var r=a.target.result,o={};if(n){var i=k(r);i>1||!E?(o.url=function(e,t){for(var a,r=[],s=new Uint8Array(e);s.length>0;)r.push(y.apply(null,(a=s.subarray(0,8192),Array.from?Array.from(a):g.call(a)))),s=s.subarray(8192);return"data:".concat(t,";base64,").concat(x(r.join("")))}(r,s),i>1&&c(o,function(e){var t=0,a=1,r=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90}return{rotate:t,scaleX:a,scaleY:r}}(i))):o.url=E.createObjectURL(t)}else o.url=r;e.load(o)},o.onabort=function(){e.fail(new Error("Aborted to read the image with FileReader."))},o.onerror=function(){e.fail(new Error("Failed to read the image with FileReader."))},o.onloadend=function(){e.reader=null},n?o.readAsArrayBuffer(t):o.readAsDataURL(t)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var t=this,a=this.file,r=this.image;r.onload=function(){t.draw(h({},e,{naturalWidth:r.naturalWidth,naturalHeight:r.naturalHeight}))},r.onabort=function(){t.fail(new Error("Aborted to load the image."))},r.onerror=function(){t.fail(new Error("Failed to load the image."))},r.alt=a.name,r.src=e.url}},{key:"draw",value:function(e){var t=this,a=e.naturalWidth,r=e.naturalHeight,s=e.rotate,o=void 0===s?0:s,n=e.scaleX,i=void 0===n?1:n,l=e.scaleY,A=void 0===l?1:l,u=this.file,p=this.image,d=this.options,c=document.createElement("canvas"),h=c.getContext("2d"),m=a/r,f=Math.abs(o)%180==90,g=Math.max(d.maxWidth,0)||1/0,b=Math.max(d.maxHeight,0)||1/0,y=Math.max(d.minWidth,0)||0,x=Math.max(d.minHeight,0)||0,k=Math.max(d.width,0)||a,_=Math.max(d.height,0)||r;if(f){var O=[b,g];g=O[0],b=O[1];var S=[x,y];y=S[0],x=S[1];var E=[_,k];k=E[0],_=E[1]}g<1/0&&b<1/0?b*m>g?b=g/m:g=b*m:g<1/0?b=g/m:b<1/0&&(g=b*m),y>0&&x>0?x*m>y?x=y/m:y=x*m:y>0?x=y/m:x>0&&(y=x*m),_*m>k?_=k/m:k=_*m;var L=-(k=Math.floor(U(Math.min(Math.max(k,y),g))))/2,T=-(_=Math.floor(U(Math.min(Math.max(_,x),b))))/2,P=k,q=_;if(f){var R=[_,k];k=R[0],_=R[1]}c.width=k,c.height=_,w(d.mimeType)||(d.mimeType=u.type);var B="transparent";if(u.size>d.convertSize&&"image/png"===d.mimeType&&(B="#fff",d.mimeType="image/jpeg"),h.fillStyle=B,h.fillRect(0,0,k,_),d.beforeDraw&&d.beforeDraw.call(this,h,c),!this.aborted&&(h.save(),h.translate(k/2,_/2),h.rotate(o*Math.PI/180),h.scale(i,A),h.drawImage(p,L,T,P,q),h.restore(),d.drew&&d.drew.call(this,h,c),!this.aborted)){var K=function(e){t.aborted||t.done({naturalWidth:a,naturalHeight:r,result:e})};c.toBlob?c.toBlob(K,d.mimeType,d.quality):K(v(c.toDataURL(d.mimeType,d.quality)))}}},{key:"done",value:function(e){var t,a,r=e.naturalWidth,s=e.naturalHeight,o=e.result,n=this.file,i=this.image,l=this.options;if(E&&!l.checkOrientation&&E.revokeObjectURL(i.src),o)if(l.strict&&o.size>n.size&&l.mimeType===n.type&&!(l.width>r||l.height>s||l.minWidth>r||l.minHeight>s))o=n;else{var A=new Date;o.lastModified=A.getTime(),o.lastModifiedDate=A,o.name=n.name,o.name&&o.type!==n.type&&(o.name=o.name.replace(L,(t=o.type,"jpeg"===(a=w(t)?t.substr(6):"")&&(a="jpg"),".".concat(a))))}else o=n;this.result=o,l.success&&l.success.call(this,o)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&p(t.prototype,a),r&&p(t,r),e}(),q={name:"drag-and-drop",data:()=>({image:[],thumbnail:[]}),props:{data:{type:Object,default:function(){return{show:{button:{type:Boolean,default:!0},limits:{type:Boolean,default:!1}},text:{main:{type:String,default:"Перетащите или выберите изображение"},button:{type:String,default:"Выбрать изображения"},limits:{type:String,default:"Файлы до 2 мегабайт"}}}}}},methods:{"defaultAсtion"(e){e.preventDefault(),e.stopPropagation()},enter(e){this.defaultAсtion(e),this.$el.classList.add("highlight")},drop(e){this.leave(e);const t=e.dataTransfer.files;this.handleFiles(t)},leave(e){this.defaultAсtion(e),this.$el.classList.remove("highlight")},over(e){this.enter(e)},selectInput(e){this.defaultAсtion(e);const t=e.target.files;this.handleFiles(t)},handleFiles(e){const t=this,a=(e,a)=>{const r=this.$el.querySelector(`.${a.htmlAppendElem}`);new P(e,{quality:a.quality,maxWidth:a.width,maxHeight:a.height,success(e){const s=new FileReader;s.readAsDataURL(e),s.onloadend=()=>{const e=document.createElement("img"),o=s.result;a.base64Result.push(o),e.src=o,e.className=a.htmlAppendClass,r.appendChild(e),t.$emit(a.event,o.split(",")[1])}},error(e){console.log(e.message)}})};[...e].forEach(e=>{(e=>{a(e,{quality:.85,width:1200,height:1200,htmlAppendElem:"dropZone--gallery--full",htmlAppendClass:"dropZone--gallery--full--img",base64Result:t.image,event:"dropImage"})})(e),(e=>{a(e,{quality:.85,width:400,height:400,htmlAppendElem:"dropZone--gallery--thumbnail",htmlAppendClass:"dropZone--gallery--thumbnail--img",base64Result:t.thumbnail,event:"dropThumbnail"})})(e)})}}},R=Object(n.a)(q,u,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dropZone--gallery"},[t("div",{staticClass:"dropZone--gallery--thumbnail"}),this._v(" "),t("div",{staticClass:"dropZone--gallery--full"})])}],!1,null,null,null);R.options.__file="src/components/dnd.vue";var B=R.exports;const K=a(107);var j={data:()=>({person:{fio:"",squad:"",photo:void 0,birthDay:""}}),components:{dnd:B},computed:{persons(){return this.$store.getters.GET_PERSONS}},methods:{delPost(){this.$store.dispatch("DELETE_PERSON",this.person._id),this.closeModal()},editPost(){this.$store.dispatch("ADD_PERSON",this.person),this.closeModal()},setPhoto(e){this.person.photo=e},getPhoto:e=>void 0===e?K:`data:imange/jpeg;base64, ${e}`}},C=Object(n.a)(j,A,[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("Фото")]),this._v(" "),t("th",[this._v("ФИО")]),this._v(" "),t("th",[this._v("Подразделение")]),this._v(" "),t("th",[this._v("День рождения")])])}],!1,null,null,null);C.options.__file="src/moduleUserPanel/views/persons.vue";var J={components:{login:l,persons:C.exports},name:"userPanel",created(){}},N=(a(108),Object(n.a)(J,r,[],!1,null,null,null));N.options.__file="src/moduleUserPanel/views/index.vue";t.default=N.exports},97:function(e,t,a){}}]);