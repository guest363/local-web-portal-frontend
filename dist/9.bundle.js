(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{142:function(t,s,e){},329:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAxlJREFUaIHt2s2rVGUAx/FP3siXIhQisyJMDTEwUNrZC4TRG23K5W2X1IV04ctfUYoWGArR4tquWgTdFmVws7YiCRWoFwzhmgRJmF0XF1o8z5nOTHNm5jzPzJxr+IWBZ+Y853m+vxnOOc/LcJulxR2t0udv5La1Gs/E1xN4BPfj7nj8L1zFr/gRpzGLa1m9vjYN7sxqhOXYhUk8j4kede/CGmyOdfdjEd9gGp/iZqrIssTzVmIfLuIkXtQ7RBUTeCG2MRfbXJkilBLkJZzDITyU0mkFD8Y2z8U+alEnyAocwww21u2oBhtjH8dinwMxaJC1wsU5Vd8rmSn8EPvuyyBBNuB7PJkhlcr22Pej/Sr2C/IwTmHTEKRS2YRvo0slvYKswhdYPzynZNYLLquqKvQKcgTbhiyUwzYcrTpYFeRl7B6JTh5vCm7/oVuQFXh/pDp5fKDLbblbkCmjfU7kskGXx0BnkOU4MBadPA7q+FU6g+wShgpLnXV4vfxBZ5DssfwYaXMtB1mNneN1yWKn4Iz2IM9KG4o3xYTgjPYgT43fJZuni0I5yJYGRHJpOZeDPNaASC6twWw5yAMNiORyX1EoB7m3AZFc7ikKqYsPS45ykD8bs0jnelEoB7nSgEguvxeFcpDzDYjkcqEolIP80oBILj8XhXKQ0w2I5NJyLgeZFdZibxUW8V3xphzkmrCgfKtwCn8UbzqfI9PjdcmizbUzyGeYH59LMvPCNkSLziALeHdsOum8J7i26DZE+VDYq1iqzAkr9W10C7KAPSPXSWevjl+D6kHjDD4aqU4aH+PLbgd6jX734uxIdNI4i3eqDvYKcgOv4tKwjRK4JLjcqKrQbz5yGc9p9uKfiw6Xe1UaZGI1hx04MwSpupyJfff9IgedIV6JDZ7IkKrL8djnQPOkOlPdBbyFV4T99VFxUdgDeVuX22wVKXP2GWwV/rkwzOHMfGxzK76qe3Lq4sPfOCzstk7ia2lTgMV47mRs63Bsuza5/0W5iU/ia42wFrsDjwsbMmv9u2RzHb8JF+5Pwh76rNJQ/Db/J/4B33l4nsTb4ngAAAAASUVORK5CYII="},330:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAxxJREFUaIHt2t2LVGUAx/GPreRLEQqRlSKmRhQYGN1pBaFoSVd5ud0sRS2UF738FZX0AkaB24V1VzeB60UpbOatSEIF5YIhrEWQhNl6sdDF85zpzDhnZs7zzMxZwy8MPDPnOc/z/c1wznlehlssL1YUhampqdy21uHJ+HoUm3EP7ojH/8bv+BXf4zTmcCWn05mZGbAypxGswkFMYi8metS9HevxUKz7BpbwDY7hC1xPFbkt8bw1eB0X8Bn26x2iignsi23MxzbXpAilBHkG5/EuNqZ0WsH9sc3zsY9a1AmyGkcwi211O6rBttjHkdjnQAwaZINwcU7X90pmGmdi330ZJMhWfIfHM6RSeSz2/UC/iv2CbMJJbB+CVCrbcSq6VNIryFp8hS3Dc0pmi+CytqpCryDvYeeQhXLYiferDlYFeRYvjUQnjxcFtxvoFmQ1PhipTh4f6nJb7hZk2mifE7ls1eUx0BlkFd4ci04eb+n4VTqDHBSGCsud+/B8+YPOIC+MzyWbNtdykHXYM16XLPYIzmgP8pS0oXhTTAjOaA+ye/wu2TxRFMpBHm5AJJeWcznIgw2I5NIazJaD3NuASC53F4VykLsaEMnlzqKQuviw7CgH+asxi3SuFoVykMsNiOTyR1EoB/m5AZFcfikK5SA/NSCSy49FoRzkdAMiubScy0HmhLXYm4UlfFu8KQe5Iiwo3yycxJ/Fm87nyLHxumTR5toZ5EssjM8lmQVhG6JFZ5BFvD02nXTeEVxbdBuifCTsVSxX5oWV+ja6BVnEayPXSeeQjl+D6kHjLI6OVCeNT3G824Feo99DODcSnTTO4dWqg72CXMNzuDhsowQuCi7Xqir0m49cwtOavfjno8OlXpUGmVjNYxfODkGqLmdj332/yEFniJdjg59kSNXl49jnQPOkOlPdRbyMA8L++qi4IOyBvKLLbbaKlDn7LHYI/1wY5nBmIba5Ayfqnpy6+PAPDgu7rZP4WtoUYCmeOxnbOhzbrk3uf1Gu4/P4Wi+sxe7CI8KGzAb/LdlcxW/ChfuDsIc+pzQUv8X/iX8B5Ax5nozyb4sAAAAASUVORK5CYII="},371:function(t,s,e){"use strict";var n=e(142);e.n(n).a},430:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"section"},[e("div",{staticClass:"section--actions"},[e("div",{staticClass:"section--actions--section",style:"background-color: var(--wiki--card--newArticle)"},[e("h2",[t._v("Занести новый хост для мониторинга")]),t._v(" "),e("div",{staticClass:"section--block"},[e("span",[t._v("IP адрес")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newHost.ip,expression:"newHost.ip"}],staticClass:"section--block--input",attrs:{type:"text",zize:"16",pattern:t.ipPattern,placeholder:"xxx.xxx.xxx.xxx"},domProps:{value:t.newHost.ip},on:{input:function(s){s.target.composing||t.$set(t.newHost,"ip",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"section--block"},[e("span",[t._v("Имя хоста")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newHost.name,expression:"newHost.name"}],staticClass:"section--block--input",attrs:{type:"text",zize:"50"},domProps:{value:t.newHost.name},on:{input:function(s){s.target.composing||t.$set(t.newHost,"name",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"section--block"},[e("span",[t._v("Тип хоста")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.newHost.hostType,expression:"newHost.hostType"}],staticClass:"section--block--select",attrs:{name:"",id:"s1"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newHost,"hostType",s.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"Тонкий клиент"}},[t._v("Тонкий клиент")]),t._v(" "),e("option",{attrs:{value:"Принтер"}},[t._v("Принтер")]),t._v(" "),e("option",{attrs:{value:"МФУ"}},[t._v("МФУ")])])]),t._v(" "),e("button",{staticClass:"section--actions--button",on:{click:t.addNewHost}},[t._v("Добавить")])])]),t._v(" "),e("div",{staticClass:"section--actions"},[e("div",{staticClass:"section--actions--section__2size"},[e("div",{staticClass:"monitoring--wrapper"},[e("h1",{staticClass:"monitoring--h3"},[t._v("Мониторинг устройств сети:")]),t._v(" "),e("table",{staticClass:"monitoring--table"},[e("tbody",[t._m(0),t._v(" "),t._l(t.allHosts,function(s){return e("tr",{key:s._id,staticClass:"monitoring--list",on:{click:function(e){return t.connectSSH(s.ip)}}},[e("td",[e("img",{staticClass:"monitoring--img__status",attrs:{src:t.imageSrcGen(s.online)}})]),t._v(" "),e("td",[t._v(t._s(s.name))]),t._v(" "),e("td",[t._v(t._s(s.ip))]),t._v(" "),e("td",[e("span",{domProps:{innerHTML:t._s(t.iconGenerator(s.hostType))}}),t._v("\n                                "+t._s(s.hostType)+"\n                            ")])])})],2)])])])]),t._v(" "),e("modal",{directives:[{name:"show",rawName:"v-show",value:t.isShowModal,expression:"isShowModal"}],on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[e("h2",[t._v("Header:")])]},proxy:!0},{key:"footer",fn:function(){return[e("button",{staticClass:"button--del",on:{click:function(t){}}},[t._v("Отмена")]),t._v(" "),e("button",{staticClass:"button--add",on:{click:function(t){}}},[t._v("Занести новые данные")])]},proxy:!0}])},[t._v(" "),e("p",[t._v("TEXT")])])],1)};n._withStripped=!0;const i=["Тонкий клиент"],o=["Принтер","МФУ"];var a=t=>{if(void 0===t)return"";return`<i class="fa fa-${(t=>{const s=s=>s.map(s=>!(t.indexOf(s)<0)).includes(!0);return s(i)?"desktop":s(o)?"print":"question"})(t)} type-icon" aria-hidden="true"></i>`},c=e(329),r=e.n(c),l=e(330),m=e.n(l),d=(e(14),e(6)),u=(e(331),e(368),e(369),{name:"monitoring",data:()=>({allHosts:"",modalDOM:"",ipPattern:"",newHost:{ip:"",name:"",hostType:""},sshPassword:"",sshOutput:"",isShowModal:!1}),methods:{showModal(){this.isShowModal=!0},closeModal(){this.isShowModal=!1},async addNewHost(){const t=await this.$backend().addHost(this.newHost);alert(`Результат: ${JSON.stringify(t.data)}`)},imageSrcGen:t=>t?r.a:m.a,connectSSH(t){const s={ip:t,password:this.sshPassword,cmd:""};d.b.emit("sshConnect",s)}},sockets:{sshConnectStage(t){console.log("SSH connect"),this.term.write("\r\n*** Connected to backend***\r\n"),this.term.on("data",t=>{this.$socket.emit("sshCommand",t)})},sshOutput(t){console.log(t),this.term.write(t)},sshDisconnect(){this.term.write("\r\n*** Disconnected from backend***\r\n")}},async mounted(){this.modalDOM=document.querySelector("#modal"),this.ipPattern={ip:"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])"}["ip"],this.intervalID=setInterval(()=>{this.$backend().getHosts().then(t=>{this.allHosts=t.data.sort((t,s)=>t.name>s.name?1:-1),console.log("Get new DATA")})},18e4),this.allHosts=(await this.$backend().getHosts()).data.sort((t,s)=>t.name>s.name?1:-1),this.iconGenerator=a},beforeDestroy(){clearTimeout(this.intervalID)}}),p=(e(370),e(371),e(2)),v=Object(p.a)(u,n,[function(){var t=this.$createElement,s=this._self._c||t;return s("tr",[s("th",[this._v("Статус")]),this._v(" "),s("th",[this._v("Имя")]),this._v(" "),s("th",[this._v("IP адрес")]),this._v(" "),s("th",[this._v("Тип устройства")])])}],!1,null,null,null);v.options.__file="src/views/monitoring/monitoring.vue";s.default=v.exports}}]);