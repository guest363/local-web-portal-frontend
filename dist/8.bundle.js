(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{102:function(t,e,s){},117:function(t,e,s){"use strict";var r=s(102);s.n(r).a},122:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"big-bro"},[s("bb-nav",[s("button",{staticClass:"big-bro--nav--button",class:{"big-bro--nav--button__active":"mountUSB"===t.show},on:{click:function(e){t.show="mountUSB"}}},[s("i",{staticClass:"fa fa-usb",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("button",{staticClass:"big-bro--nav--button",class:{"big-bro--nav--button__active":"alertUSB"===t.show},on:{click:function(e){t.show="alertUSB"}}},[s("i",{staticClass:"fa fa-exclamation-triangle",attrs:{"aria-hidden":"true"}})]),t._v(" "),s("button",{staticClass:"big-bro--nav--button",class:{"big-bro--nav--button__active":"whiteListUSB"===t.show},on:{click:function(e){t.show="whiteListUSB"}}},[s("i",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}})])]),t._v(" "),s("mount-table",{attrs:{show:t.show,mountUSBActualList:t.mountUSBActualList,iconGenerator:t.iconGenerator,showModal:t.showModal,usbCount:t.mountCounter}}),t._v(" "),s("alert-table",{attrs:{show:t.show,pages:t.pagesAlert,alertUSBList:t.alertUSBList,iconGenerator:t.iconGenerator,showModal:t.showModal,alertChunk:t.alertChunk},on:{filter:function(e){return t.filter(e)},setCurrentPage:function(e){return t.setCurrentPage(e)}}}),t._v(" "),s("white-table",{attrs:{show:t.show,whiteUSBActualList:t.whiteUSBActualList,usbCount:t.whiteCounter,iconGenerator:t.iconGenerator,showModal:t.showModal}}),t._v(" "),s("modal",{directives:[{name:"show",rawName:"v-show",value:t.isShowModal,expression:"isShowModal"}],attrs:{prop:t.modalProp},on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[s("h2",[t._v("\n        Изменение учетных данных носителя:\n        "),s("br"),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.iconGenerator(t.modalProp.usb.product))}}),t._v(" "),s("span",[t._v(t._s(t.modalProp.usb.serial)+" ("+t._s(t.modalProp.usb.USBnameSave)+")")])])]},proxy:!0},{key:"footer",fn:function(){return[s("button",{staticClass:"button--del",on:{click:function(e){return t.delPost(t.modalProp.usb._id,t.show)}}},[t._v("Удалить запись")]),t._v(" "),s("button",{staticClass:"button--add",on:{click:function(e){return t.editPost(t.modalProp.usb._id,t.show)}}},[t._v("Занести новые данные")])]},proxy:!0}])},[t._v(" "),s("p",[t._v("Читаемое имя")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.modalProp.usb.serial,expression:"modalProp.usb.serial"}],attrs:{type:"text"},domProps:{value:t.modalProp.usb.serial},on:{input:function(e){e.target.composing||t.$set(t.modalProp.usb,"serial",e.target.value)}}}),t._v(" "),s("p",[t._v("Регистрационный номер")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.modalProp.usb.regNumber,expression:"modalProp.usb.regNumber"}],attrs:{type:"text"},domProps:{value:t.modalProp.usb.regNumber},on:{input:function(e){e.target.composing||t.$set(t.modalProp.usb,"regNumber",e.target.value)}}}),t._v(" "),s("p",[t._v("Предписание")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.modalProp.usb.docNumber,expression:"modalProp.usb.docNumber"}],attrs:{type:"text"},domProps:{value:t.modalProp.usb.docNumber},on:{input:function(e){e.target.composing||t.$set(t.modalProp.usb,"docNumber",e.target.value)}}}),t._v(" "),s("p",[t._v("Находится в белом списке")]),t._v(" "),s("div",{staticClass:"modal--usb--grid--body--radio"},[s("label",{attrs:{for:"yes"}},[t._v("Да")]),t._v(" "),s("input",{attrs:{type:"radio",name:"r1",id:"yes"}}),t._v(" "),s("label",{attrs:{for:"no"}},[t._v("Нет")]),t._v(" "),s("input",{attrs:{type:"radio",name:"r1",id:"no"}})])])],1)};r._withStripped=!0;const o=["Storage","USB DRIVE","FLASH","Flash","DataTraveler","QUMO","HDD"],a=["LaserJet","Printer","CLX-9252"],i=["Controller"],n=["Mouse"];var u=function(t,e){var s=e._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:"mountUSB"===e.props.show,expression:"props.show === 'mountUSB'"}],staticClass:"big-bro--mount big-bro--wrapper"},[s("h1",{staticClass:"big-bro--h3"},[e._v("Сейчас подключены "+e._s(e.props.usbCount)+" устр. :")]),e._v(" "),s("table",{staticClass:"big-bro--table"},[e._m(0),e._v(" "),e._l(e.props.mountUSBActualList,(function(t){return s("tr",{key:t._id,staticClass:"big-bro--list",on:{click:function(s){return e.props.showModal(t)}}},[s("td",[e._v(e._s(new Date(t.mountTime).toLocaleString("ru")))]),e._v(" "),s("td",[s("span",{domProps:{innerHTML:e._s(e.props.iconGenerator(t.product))}}),e._v("\n                    "+e._s(t.hostid)+"\n                ")]),e._v(" "),s("td",[e._v(e._s(t.product))]),e._v(" "),s("td",[e._v(e._s(t.manufacture))]),e._v(" "),s("td",[e._v(e._s(t.serial))]),e._v(" "),s("td",[e._v(e._s(t.USBnameSave))]),e._v(" "),s("td",[e._v(e._s(t.username))]),e._v(" "),s("td",[e._v(e._s(t.regNumber))])])}))],2)])};u._withStripped=!0;var l=s(2),_=Object(l.a)({},u,[function(t,e){var s=e._c;return s("tr",[s("th",[e._v("Дата монтирования")]),e._v(" "),s("th",[e._v("Host")]),e._v(" "),s("th",[e._v("Тип устройства")]),e._v(" "),s("th",[e._v("Производитель")]),e._v(" "),s("th",[e._v("Присвоенное имя")]),e._v(" "),s("th",[e._v("Серийный номер")]),e._v(" "),s("th",[e._v("Пользователь")]),e._v(" "),s("th",[e._v("Рег. Номер")])])}],!0,null,null,null);_.options.__file="src/moduleUSB/views/tables/mount.vue";var c=_.exports,v=function(t,e){var s=e._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:"alertUSB"===e.props.show,expression:"props.show === 'alertUSB'"}],staticClass:"big-bro--alert big-bro--wrapper"},[s("h1",{staticClass:"big-bro--h3"},[e._v("Нарушения политики безопасности:")]),e._v(" "),s("div",{staticClass:"page--wrapper__bigbrother"},e._l(e.props.pages,(function(t){return s("span",{key:t,staticClass:"page",class:{"page-active":t===e.props.alertChunk+1},on:{click:function(s){return e.listeners.setCurrentPage(t)}}},[e._v(e._s(""+t))])})),0),e._v(" "),s("table",{staticClass:"big-bro--table"},[s("thead",{staticClass:"big-bro--table--head"},[s("th",{on:{click:function(t){return e.listeners.filter("mountTime")}}},[e._v("Дата подключения")]),e._v(" "),s("th",{on:{click:function(t){return e.listeners.filter("hostid")}}},[e._v("Host")]),e._v(" "),s("th",{on:{click:function(t){return e.listeners.filter("product")}}},[e._v("Тип устройства")]),e._v(" "),s("th",{on:{click:function(t){return e.listeners.filter("manufacture")}}},[e._v("Производитель")]),e._v(" "),s("th",[e._v("Присвоенное имя")]),e._v(" "),s("th",{on:{click:function(t){return e.listeners.filter("USBnameSave")}}},[e._v("Серийный номер")]),e._v(" "),s("th",{on:{click:function(t){return e.listeners.filter("username")}}},[e._v("Пользователь")]),e._v(" "),s("th",[e._v("Рег. Номер")])]),e._v(" "),s("transition-group",{attrs:{name:"fade",tag:"tbody"}},e._l(e.props.alertUSBList,(function(t){return s("tr",{key:t._id,staticClass:"big-bro--list",on:{click:function(s){return e.props.showModal(t)}}},[s("td",[e._v(e._s(new Date(t.mountTime).toLocaleString("ru")))]),e._v(" "),s("td",[s("span",{domProps:{innerHTML:e._s(e.props.iconGenerator(t.product))}}),e._v("\n                        "+e._s(t.hostid)+"\n                    ")]),e._v(" "),s("td",[e._v(e._s(t.product))]),e._v(" "),s("td",[e._v(e._s(t.manufacture))]),e._v(" "),s("td",[e._v(e._s(t.serial))]),e._v(" "),s("td",[e._v(e._s(t.USBnameSave))]),e._v(" "),s("td",[e._v(e._s(t.username))]),e._v(" "),s("td",[e._v(e._s(t.regNumber))])])})),0)],1)])};v._withStripped=!0;var d=Object(l.a)({},v,[],!0,null,null,null);d.options.__file="src/moduleUSB/views/tables/alert.vue";var h=d.exports,p=function(t,e){var s=e._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:"whiteListUSB"===e.props.show,expression:"props.show === 'whiteListUSB'"}],staticClass:"big-bro--white big-bro--wrapper"},[s("h1",{staticClass:"big-bro--h3"},[e._v("В белом списке "+e._s(e.props.usbCount)+" устр. :")]),e._v(" "),s("table",{staticClass:"big-bro--table"},[e._m(0),e._v(" "),e._l(e.props.whiteUSBActualList,(function(t){return s("tr",{key:t._id,staticClass:"big-bro--list",on:{click:function(s){return e.props.showModal(t)}}},[s("td",[e._v(e._s(new Date(t.mountTime).toLocaleString("ru")))]),e._v(" "),s("td",[s("span",{domProps:{innerHTML:e._s(e.props.iconGenerator(t.product))}}),e._v("\n          "+e._s(t.hostid)+"\n        ")]),e._v(" "),s("td",[e._v(e._s(t.product))]),e._v(" "),s("td",[e._v(e._s(t.manufacture))]),e._v(" "),s("td",[e._v(e._s(t.serial))]),e._v(" "),s("td",[e._v(e._s(t.USBnameSave))]),e._v(" "),s("td",[e._v(e._s(t.username))]),e._v(" "),s("td",[e._v(e._s(t.regNumber))]),e._v(" "),s("td",[e._v(e._s(t.docNumber))])])}))],2)])};p._withStripped=!0;var b=Object(l.a)({},p,[function(t,e){var s=e._c;return s("tr",[s("th",[e._v("Дата добавления")]),e._v(" "),s("th",[e._v("Host")]),e._v(" "),s("th",[e._v("Тип устройства")]),e._v(" "),s("th",[e._v("Производитель")]),e._v(" "),s("th",[e._v("Присвоенное имя")]),e._v(" "),s("th",[e._v("Серийный номер")]),e._v(" "),s("th",[e._v("Пользователь")]),e._v(" "),s("th",[e._v("Рег. Номер")]),e._v(" "),s("th",[e._v("Предписание")])])}],!0,null,null,null);b.options.__file="src/moduleUSB/views/tables/white.vue";var m=b.exports,w=function(t,e){return(0,e._c)("div",{staticClass:"big-bro--nav"},[e._t("default")],2)};w._withStripped=!0;var f=Object(l.a)({},w,[],!0,null,null,null);f.options.__file="src/moduleUSB/views/BBnav.vue";var S={name:"bigBrother",data:()=>({show:"alertUSB",modalProp:{usb:{serial:"1234212",product:"default",USBnameSave:"",docNumber:""}},alertChunk:0,filterChunk:"none"}),components:{mountTable:c,alertTable:h,whiteTable:m,bbNav:f.exports},computed:{mountUSBActualList(){return this.$store.getters.GET_LIST_MOUNT},whiteUSBActualList(){return this.$store.getters.GET_LIST_WHITE},alertUSBList(){return this.$store.getters.GET_LIST_ALERT},pagesAlert(){return this.$store.getters.GET_PAGE_ALERT},mountCounter(){return this.$store.getters.GET_COUNTER_MOUNT},whiteCounter(){return this.$store.getters.GET_COUNTER_WHITE}},methods:{setCurrentPage(t){this.alertChunk=t-1,this.$store.dispatch("UPDATE_ALL_LIST",{chunk:this.alertChunk,filter:this.filterChunk})},filter(t){this.filterChunk=t,this.$store.dispatch("UPDATE_ALL_LIST",{chunk:this.alertChunk,filter:this.filterChunk})},updateTableInfo(){this.$store.dispatch("UPDATE_ALL_LIST",{chunk:this.alertChunk,filter:this.filterChunk})},showModal(t){document.querySelector("#modal");const e=document.querySelector("#yes"),s=document.querySelector("#no");this.isShowModal=!0,this.modalProp.usb=t;const r=this.modalProp.usb.USBnameSave,o=(this.modalProp.usb.serial,this.whiteUSBActualList.find(t=>t.USBnameSave===r)),a=void 0!==o;a?e.setAttribute("checked",!0):s.setAttribute("checked",!0),a&&(this.modalProp.usb.docNumber=o.docNumber)},editPost(){document.querySelector("#yes").checked?this.addToWhiteListUSB(this.modalProp.usb):this.$store.dispatch("DEL_USB",{table:"whiteListUSB",msg:this.modalProp.usb._id}),this.$store.dispatch("EDIT_USB",this.modalProp.usb),this.updateTableInfo(),this.closeModal()},iconGenerator:t=>(t=>{if(void 0===t)return"";return`<i class="fa fa-${(t=>{const e=e=>e.map(e=>{return!(t.indexOf(e)<0)}).includes(!0);return e(o)?"usb":e(a)?"print":e(i)?"microchip":e(n)?"location-arrow":"question"})(t)} type-icon" aria-hidden="true"></i>`})(t),addToWhiteListUSB(t){this.$store.dispatch("ADD_TO_WHITE",t)},delPost(t,e){this.$store.dispatch("DEL_USB",{table:e,msg:this.modalProp.usb._id}),this.updateTableInfo(),this.closeModal()}},created(){this.updateTableInfo()}},g=(s(117),Object(l.a)(S,r,[],!1,null,null,null));g.options.__file="src/moduleUSB/views/index.vue";e.default=g.exports}}]);